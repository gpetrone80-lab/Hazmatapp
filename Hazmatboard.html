<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tactical Hazmat Research Board</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1c92d2">
    <link rel="apple-touch-icon" href="Hazmat_logo.png">

    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="Hazmat_logo.png">
    <style>
        .board-wrapper { text-align: left; font-size: 14px; }
        .section-bar { background-color: var(--text-secondary); color: var(--container-bg); padding: 4px 8px; font-weight: bold; text-transform: uppercase; font-size: 13px; margin-bottom: 5px; border-radius: 4px; }
        .input-row { display: flex; align-items: center; margin-bottom: 5px; }
        .input-row label { flex: 0 0 130px; font-weight: bold; font-size: 13px; text-align: right; padding-right: 10px; }
        .board-input { width: 100%; padding: 4px 8px; background: var(--btn-bg); border: 1px solid var(--text-secondary); color: var(--text-main); font-family: monospace; font-weight: 600; }
        .nfpa-diamond { position: relative; width: 80px; height: 80px; transform: rotate(45deg); border: 1px solid var(--text-main); margin: 20px; }
        .nfpa-quad { position: absolute; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 1px solid rgba(0,0,0,0.2); color: #000; }
        .nfpa-blue { background-color: #4da6ff; left: 0; top: 0; }
        .nfpa-red { background-color: #ff4d4d; left: 40px; top: 0; }
        .nfpa-yellow { background-color: #ffff4d; left: 40px; top: 40px; }
        .nfpa-white { background-color: #ffffff; left: 0; top: 40px; }
        .nfpa-quad span { transform: rotate(-45deg); display:block; }
        .top-ident-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; padding: 10px; border: 1px solid var(--text-secondary); border-radius: 8px; }
        .middle-section-grid { display: grid; grid-template-columns: 1fr 1.2fr 1fr; gap: 20px; align-items: start; }
        .meters-grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 2px; }
        .bottom-info-grid { display: grid; grid-template-columns: 1.2fr 1.5fr 1fr; gap: 15px; border: 1px solid var(--text-secondary); padding: 10px; border-radius: 8px; }
        @media print { .container { padding: 0; margin: 0; box-shadow: none; border: none; } .board-wrapper { width: 100%; } }
        @media (max-width: 900px) { .middle-section-grid, .bottom-info-grid, .top-ident-grid { grid-template-columns: 1fr; } .input-row label { flex: 0 0 100px; } }
    </style>
</head>
<body data-theme="glass">

    <div class="view-controls">
        <a href="index.html" class="icon-btn" title="Back to Dashboard">üè†</a>
        <select id="themeSelect" class="theme-select"><option value="glass">Glass Ocean</option><option value="tactical">Tactical Ops</option><option value="minimal">Swiss Minimal</option></select>
        <button id="modeToggle" class="icon-btn">üåô</button>
    </div>

    <div class="container wide-mode">
        <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
            <div class="nfpa-diamond">
                <div class="nfpa-quad nfpa-blue"><span>H</span></div>
                <div class="nfpa-quad nfpa-red"><span>F</span></div>
                <div class="nfpa-quad nfpa-yellow"><span>R</span></div>
                <div class="nfpa-quad nfpa-white"><span>S</span></div>
            </div>
            <div class="profile-title">Hazmat Research Board</div>
        </div>

        <div class="board-wrapper">
            <div class="top-ident-grid">
                <div><div class="input-row"><label>CHEMICAL NAME</label><input type="text" class="board-input"></div><div class="input-row"><label>UN or CAS #</label><input type="text" class="board-input"></div></div>
                <div><div class="input-row"><label>FORMULA</label><input type="text" class="board-input"></div><div class="input-row"><label>DOT</label><input type="text" class="board-input"></div></div>
            </div>

            <div class="middle-section-grid">
                <div class="mid-col-1">
                    <div class="section-bar">PHYSICAL STATE</div><div class="input-row"><label>STATE</label><input type="text" class="board-input" placeholder="Solid/Liq/Gas"></div>
                    <div class="section-bar" style="margin-top: 15px;">FLAMMABILITY</div><div class="input-row"><label>LEL</label><input type="text" class="board-input"></div><div class="input-row"><label>UEL</label><input type="text" class="board-input"></div>
                    <div class="section-bar" style="margin-top: 15px;">TOXICITY</div><div class="input-row"><label>IDLH</label><input type="text" class="board-input"></div><div class="input-row"><label>TWA / PEL</label><input type="text" class="board-input"></div>
                </div>
                <div class="mid-col-2">
                    <div class="input-row" style="margin-bottom: 10px;"><label>pH (Acid/Base)</label><input type="text" class="board-input"></div>
                    <div class="input-row"><label>RADIATION</label><input type="text" class="board-input"></div><div class="input-row"><label>EXPLOSIVE</label><input type="text" class="board-input"></div><div class="input-row"><label>POLYMERIZE</label><input type="text" class="board-input"></div>
                    <div class="section-bar" style="margin-top: 10px;">REACTIVITY</div><textarea class="board-input" style="height: 60px; resize: none;"></textarea>
                </div>
                <div class="mid-col-3">
                    <div class="section-bar">METERS</div>
                    <div class="meters-grid-container"><input type="text" class="board-input"><input type="text" class="board-input"><input type="text" class="board-input"><input type="text" class="board-input"></div>
                    <div class="section-bar" style="margin-top: 10px;">PPE</div><div class="input-row"><label>ENTRY</label><input type="text" class="board-input"></div><div class="input-row"><label>DECON</label><input type="text" class="board-input"></div>
                </div>
            </div>

            <div class="section-bar" style="margin-top: 20px;">PRODUCT PROPERTIES</div>
            <div class="bottom-info-grid">
                <div><div class="input-row"><label>MOL. WEIGHT</label><input type="text" class="board-input"></div><div class="input-row"><label>BOILING PT</label><input type="text" class="board-input"></div></div>
                <div><div class="input-row"><label>IONIZATION</label><input type="text" class="board-input"></div><div class="input-row"><label>VAPOR DENS.</label><input type="text" class="board-input"></div></div>
                <div><div class="input-row"><label>FREEZING</label><input type="text" class="board-input"></div><div class="input-row"><label>FLASH PT</label><input type="text" class="board-input"></div></div>
            </div>

            <div style="margin-top: 20px;"><div class="section-bar">TACTICAL NOTES</div><textarea class="board-input" style="height: 80px;"></textarea></div>
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button onclick="resetBoard()" class="link-btn" style="background:#d92525; color:white; border:none;">RESET</button>
                <button onclick="window.print()" class="link-btn primary">PRINT</button>
            </div>
        </div>
    </div>

    <script>
        // THEME LOGIC
        const body = document.body;
        const themeSelect = document.getElementById('themeSelect');
        const modeToggle = document.getElementById('modeToggle');
        
        if(localStorage.getItem('theme')) { body.setAttribute('data-theme', localStorage.getItem('theme')); themeSelect.value = localStorage.getItem('theme'); }
        if(localStorage.getItem('darkMode') === 'true') { body.classList.add('dark-mode'); modeToggle.textContent = '‚òÄÔ∏è'; }
        
        themeSelect.addEventListener('change', (e) => { body.setAttribute('data-theme', e.target.value); localStorage.setItem('theme', e.target.value); });
        
        modeToggle.addEventListener('click', () => { 
            body.classList.toggle('dark-mode'); 
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark); 
            modeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô'; 
        });

        function resetBoard() {
            if(confirm("Clear board?")) { document.querySelectorAll('input, textarea').forEach(el => el.value = ''); }
        }

        // PWA REGISTER
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => { navigator.serviceWorker.register('./sw.js'); });
        }
    </script>
</body>
</html>